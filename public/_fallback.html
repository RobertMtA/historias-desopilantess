<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Colecci칩n de historias desopilantes, extra침as y sorprendentes para alegrar tu d칤a" />
    <meta name="keywords" content="historias, desopilantes, humor, entretenimiento" />
    <title>Historias Desopilantes - Relatos que alegrar치n tu d칤a</title>
    <script type="module" crossorigin src="/assets/index-12345.js"></script>
    <link rel="stylesheet" href="/assets/index-67890.css">
    <!-- Este archivo servir치 como fallback para rutas de cliente -->
  </head>
  <body>
    <div id="root"></div>
    <script>
      // C칩digo para interceptar fetch y evitar errores 404 en api/stories
      (function() {
        const originalFetch = window.fetch;
        const VALID_STORY_IDS = Array.from({ length: 21 }, (_, i) => i + 1);
        
        window.fetch = function(url, options) {
          if (url && typeof url === 'string' && url.includes('/api/stories/')) {
            const urlParts = url.split('/');
            const idIndex = urlParts.indexOf('stories') + 1;
            
            if (idIndex < urlParts.length) {
              const storyId = parseInt(urlParts[idIndex]);
              
              if (!VALID_STORY_IDS.includes(storyId)) {
                console.log(`游닇 Interceptando petici칩n para historia inexistente ID: ${storyId}`);
                
                if (url.includes('/likes')) {
                  console.log(`丘뙖잺 Devolviendo likes=0 para historia ${storyId}`);
                  return Promise.resolve({
                    ok: true,
                    json: () => Promise.resolve({
                      storyId: storyId,
                      likes: 0,
                      hasLiked: false,
                      exists: false
                    })
                  });
                } 
                else if (url.includes('/comments')) {
                  console.log(`丘뙖잺 Devolviendo comments=[] para historia ${storyId}`);
                  return Promise.resolve({
                    ok: true,
                    json: () => Promise.resolve({
                      storyId: storyId,
                      comments: [],
                      total: 0,
                      exists: false
                    })
                  });
                }
              }
            }
          }
          
          return originalFetch.apply(this, arguments);
        };
      })();
    </script>
  </body>
</html>
